/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
/******/ (() => { // webpackBootstrap
/******/ 	"use strict";
/******/ 	var __webpack_modules__ = ({

/***/ "./resources/src/js/custom/apps/ecommerce/catalog/save-product.js":
/*!************************************************************************!*\
  !*** ./resources/src/js/custom/apps/ecommerce/catalog/save-product.js ***!
  \************************************************************************/
/***/ (() => {

eval("\n\n// Class definition\nfunction _typeof(obj) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (obj) { return typeof obj; } : function (obj) { return obj && \"function\" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }, _typeof(obj); }\nfunction _defineProperty(obj, key, value) { key = _toPropertyKey(key); if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\nfunction _toPropertyKey(arg) { var key = _toPrimitive(arg, \"string\"); return _typeof(key) === \"symbol\" ? key : String(key); }\nfunction _toPrimitive(input, hint) { if (_typeof(input) !== \"object\" || input === null) return input; var prim = input[Symbol.toPrimitive]; if (prim !== undefined) { var res = prim.call(input, hint || \"default\"); if (_typeof(res) !== \"object\") return res; throw new TypeError(\"@@toPrimitive must return a primitive value.\"); } return (hint === \"string\" ? String : Number)(input); }\nvar KTAppEcommerceSaveProduct = function () {\n  // Private functions\n\n  // Init quill editor\n  var initQuill = function initQuill() {\n    // Define all elements for quill editor\n    var elements = ['#kt_ecommerce_add_product_description', '#kt_ecommerce_add_product_meta_description'];\n\n    // Loop all elements\n    elements.forEach(function (element) {\n      // Get quill element\n      var quill = document.querySelector(element);\n\n      // Break if element not found\n      if (!quill) {\n        return;\n      }\n\n      // Init quill --- more info: https://quilljs.com/docs/quickstart/\n      quill = new Quill(element, {\n        modules: {\n          toolbar: [[{\n            header: [1, 2, false]\n          }], ['bold', 'italic', 'underline'], ['image', 'code-block']]\n        },\n        placeholder: 'Type your text here...',\n        theme: 'snow' // or 'bubble'\n      });\n    });\n  };\n\n  // Init tagify\n  var initTagify = function initTagify() {\n    // Define all elements for tagify\n    var elements = ['#kt_ecommerce_add_product_category', '#kt_ecommerce_add_product_tags'];\n\n    // Loop all elements\n    elements.forEach(function (element) {\n      // Get tagify element\n      var tagify = document.querySelector(element);\n\n      // Break if element not found\n      if (!tagify) {\n        return;\n      }\n\n      // Init tagify --- more info: https://yaireo.github.io/tagify/\n      new Tagify(tagify, {\n        whitelist: [\"new\", \"trending\", \"sale\", \"discounted\", \"selling fast\", \"last 10\"],\n        dropdown: {\n          maxItems: 20,\n          // <- mixumum allowed rendered suggestions\n          classname: \"tagify__inline__suggestions\",\n          // <- custom classname for this dropdown, so it could be targeted\n          enabled: 0,\n          // <- show suggestions on focus\n          closeOnSelect: false // <- do not hide the suggestions dropdown once an item has been selected\n        }\n      });\n    });\n  };\n\n  // Init form repeater --- more info: https://github.com/DubFriend/jquery.repeater\n  var initFormRepeater = function initFormRepeater() {\n    $('#kt_ecommerce_add_product_options').repeater({\n      initEmpty: false,\n      defaultValues: {\n        'text-input': 'foo'\n      },\n      show: function show() {\n        $(this).slideDown();\n\n        // Init select2 on new repeated items\n        initConditionsSelect2();\n      },\n      hide: function hide(deleteElement) {\n        $(this).slideUp(deleteElement);\n      }\n    });\n  };\n\n  // Init condition select2\n  var initConditionsSelect2 = function initConditionsSelect2() {\n    // Tnit new repeating condition types\n    var allConditionTypes = document.querySelectorAll('[data-kt-ecommerce-catalog-add-product=\"product_option\"]');\n    allConditionTypes.forEach(function (type) {\n      if ($(type).hasClass(\"select2-hidden-accessible\")) {\n        return;\n      } else {\n        $(type).select2({\n          minimumResultsForSearch: -1\n        });\n      }\n    });\n  };\n\n  // Init noUIslider\n  var initSlider = function initSlider() {\n    var slider = document.querySelector(\"#kt_ecommerce_add_product_discount_slider\");\n    var value = document.querySelector(\"#kt_ecommerce_add_product_discount_label\");\n    noUiSlider.create(slider, {\n      start: [10],\n      connect: true,\n      range: {\n        \"min\": 1,\n        \"max\": 100\n      }\n    });\n    slider.noUiSlider.on(\"update\", function (values, handle) {\n      value.innerHTML = Math.round(values[handle]);\n      if (handle) {\n        value.innerHTML = Math.round(values[handle]);\n      }\n    });\n  };\n\n  // Init DropzoneJS --- more info:\n  var initDropzone = function initDropzone() {\n    var myDropzone = new Dropzone(\"#kt_ecommerce_add_product_media\", {\n      url: \"https://keenthemes.com/scripts/void.php\",\n      // Set the url for your upload script location\n      paramName: \"file\",\n      // The name that will be used to transfer the file\n      maxFiles: 10,\n      maxFilesize: 10,\n      // MB\n      addRemoveLinks: true,\n      accept: function accept(file, done) {\n        if (file.name == \"wow.jpg\") {\n          done(\"Naha, you don't.\");\n        } else {\n          done();\n        }\n      }\n    });\n  };\n\n  // Handle discount options\n  var handleDiscount = function handleDiscount() {\n    var discountOptions = document.querySelectorAll('input[name=\"discount_option\"]');\n    var percentageEl = document.getElementById('kt_ecommerce_add_product_discount_percentage');\n    var fixedEl = document.getElementById('kt_ecommerce_add_product_discount_fixed');\n    discountOptions.forEach(function (option) {\n      option.addEventListener('change', function (e) {\n        var value = e.target.value;\n        switch (value) {\n          case '2':\n            {\n              percentageEl.classList.remove('d-none');\n              fixedEl.classList.add('d-none');\n              break;\n            }\n          case '3':\n            {\n              percentageEl.classList.add('d-none');\n              fixedEl.classList.remove('d-none');\n              break;\n            }\n          default:\n            {\n              percentageEl.classList.add('d-none');\n              fixedEl.classList.add('d-none');\n              break;\n            }\n        }\n      });\n    });\n  };\n\n  // Shipping option handler\n  var handleShipping = function handleShipping() {\n    var shippingOption = document.getElementById('kt_ecommerce_add_product_shipping_checkbox');\n    var shippingForm = document.getElementById('kt_ecommerce_add_product_shipping');\n    shippingOption.addEventListener('change', function (e) {\n      var value = e.target.checked;\n      if (value) {\n        shippingForm.classList.remove('d-none');\n      } else {\n        shippingForm.classList.add('d-none');\n      }\n    });\n  };\n\n  // Category status handler\n  var handleStatus = function handleStatus() {\n    var target = document.getElementById('kt_ecommerce_add_product_status');\n    var select = document.getElementById('kt_ecommerce_add_product_status_select');\n    var statusClasses = ['bg-success', 'bg-warning', 'bg-danger'];\n    $(select).on('change', function (e) {\n      var value = e.target.value;\n      switch (value) {\n        case \"published\":\n          {\n            var _target$classList;\n            (_target$classList = target.classList).remove.apply(_target$classList, statusClasses);\n            target.classList.add('bg-success');\n            hideDatepicker();\n            break;\n          }\n        case \"scheduled\":\n          {\n            var _target$classList2;\n            (_target$classList2 = target.classList).remove.apply(_target$classList2, statusClasses);\n            target.classList.add('bg-warning');\n            showDatepicker();\n            break;\n          }\n        case \"inactive\":\n          {\n            var _target$classList3;\n            (_target$classList3 = target.classList).remove.apply(_target$classList3, statusClasses);\n            target.classList.add('bg-danger');\n            hideDatepicker();\n            break;\n          }\n        case \"draft\":\n          {\n            var _target$classList4;\n            (_target$classList4 = target.classList).remove.apply(_target$classList4, statusClasses);\n            target.classList.add('bg-primary');\n            hideDatepicker();\n            break;\n          }\n        default:\n          break;\n      }\n    });\n\n    // Handle datepicker\n    var datepicker = document.getElementById('kt_ecommerce_add_product_status_datepicker');\n\n    // Init flatpickr --- more info: https://flatpickr.js.org/\n    $('#kt_ecommerce_add_product_status_datepicker').flatpickr({\n      enableTime: true,\n      dateFormat: \"Y-m-d H:i\"\n    });\n    var showDatepicker = function showDatepicker() {\n      datepicker.parentNode.classList.remove('d-none');\n    };\n    var hideDatepicker = function hideDatepicker() {\n      datepicker.parentNode.classList.add('d-none');\n    };\n  };\n\n  // Condition type handler\n  var handleConditions = function handleConditions() {\n    var allConditions = document.querySelectorAll('[name=\"method\"][type=\"radio\"]');\n    var conditionMatch = document.querySelector('[data-kt-ecommerce-catalog-add-category=\"auto-options\"]');\n    allConditions.forEach(function (radio) {\n      radio.addEventListener('change', function (e) {\n        if (e.target.value === '1') {\n          conditionMatch.classList.remove('d-none');\n        } else {\n          conditionMatch.classList.add('d-none');\n        }\n      });\n    });\n  };\n\n  // Submit form handler\n  var handleSubmit = function handleSubmit() {\n    var _fields;\n    // Define variables\n    var validator;\n\n    // Get elements\n    var form = document.getElementById('kt_ecommerce_add_product_form');\n    var submitButton = document.getElementById('kt_ecommerce_add_product_submit');\n\n    // Init form validation rules. For more info check the FormValidation plugin's official documentation:https://formvalidation.io/\n    validator = FormValidation.formValidation(form, {\n      fields: (_fields = {\n        'product_name': {\n          validators: {\n            notEmpty: {\n              message: 'Product name is required'\n            }\n          }\n        },\n        'sku': {\n          validators: {\n            notEmpty: {\n              message: 'SKU is required'\n            }\n          }\n        }\n      }, _defineProperty(_fields, \"sku\", {\n        validators: {\n          notEmpty: {\n            message: 'Product barcode is required'\n          }\n        }\n      }), _defineProperty(_fields, 'shelf', {\n        validators: {\n          notEmpty: {\n            message: 'Shelf quantity is required'\n          }\n        }\n      }), _defineProperty(_fields, 'price', {\n        validators: {\n          notEmpty: {\n            message: 'Product base price is required'\n          }\n        }\n      }), _defineProperty(_fields, 'tax', {\n        validators: {\n          notEmpty: {\n            message: 'Product tax class is required'\n          }\n        }\n      }), _fields),\n      plugins: {\n        trigger: new FormValidation.plugins.Trigger(),\n        bootstrap: new FormValidation.plugins.Bootstrap5({\n          rowSelector: '.fv-row',\n          eleInvalidClass: '',\n          eleValidClass: ''\n        })\n      }\n    });\n\n    // Handle submit button\n    submitButton.addEventListener('click', function (e) {\n      e.preventDefault();\n\n      // Validate form before submit\n      if (validator) {\n        validator.validate().then(function (status) {\n          console.log('validated!');\n          if (status == 'Valid') {\n            submitButton.setAttribute('data-kt-indicator', 'on');\n\n            // Disable submit button whilst loading\n            submitButton.disabled = true;\n            setTimeout(function () {\n              submitButton.removeAttribute('data-kt-indicator');\n              Swal.fire({\n                text: \"Form has been successfully submitted!\",\n                icon: \"success\",\n                buttonsStyling: false,\n                confirmButtonText: \"Ok, got it!\",\n                customClass: {\n                  confirmButton: \"btn btn-primary\"\n                }\n              }).then(function (result) {\n                if (result.isConfirmed) {\n                  // Enable submit button after loading\n                  submitButton.disabled = false;\n\n                  // Redirect to customers list page\n                  window.location = form.getAttribute(\"data-kt-redirect\");\n                }\n              });\n            }, 2000);\n          } else {\n            Swal.fire({\n              html: \"Sorry, looks like there are some errors detected, please try again. <br/><br/>Please note that there may be errors in the <strong>General</strong> or <strong>Advanced</strong> tabs\",\n              icon: \"error\",\n              buttonsStyling: false,\n              confirmButtonText: \"Ok, got it!\",\n              customClass: {\n                confirmButton: \"btn btn-primary\"\n              }\n            });\n          }\n        });\n      }\n    });\n  };\n\n  // Public methods\n  return {\n    init: function init() {\n      // Init forms\n      initQuill();\n      initTagify();\n      initSlider();\n      initFormRepeater();\n      initDropzone();\n      initConditionsSelect2();\n\n      // Handle forms\n      handleStatus();\n      handleConditions();\n      handleDiscount();\n      handleShipping();\n      handleSubmit();\n    }\n  };\n}();\n\n// On document ready\nKTUtil.onDOMContentLoaded(function () {\n  KTAppEcommerceSaveProduct.init();\n});//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9yZXNvdXJjZXMvc3JjL2pzL2N1c3RvbS9hcHBzL2Vjb21tZXJjZS9jYXRhbG9nL3NhdmUtcHJvZHVjdC5qcy5qcyIsIm1hcHBpbmdzIjoiQUFBYTs7QUFFYjtBQUFBLFNBQUFBLFFBQUFDLEdBQUEsc0NBQUFELE9BQUEsd0JBQUFFLE1BQUEsdUJBQUFBLE1BQUEsQ0FBQUMsUUFBQSxhQUFBRixHQUFBLGtCQUFBQSxHQUFBLGdCQUFBQSxHQUFBLFdBQUFBLEdBQUEseUJBQUFDLE1BQUEsSUFBQUQsR0FBQSxDQUFBRyxXQUFBLEtBQUFGLE1BQUEsSUFBQUQsR0FBQSxLQUFBQyxNQUFBLENBQUFHLFNBQUEscUJBQUFKLEdBQUEsS0FBQUQsT0FBQSxDQUFBQyxHQUFBO0FBQUEsU0FBQUssZ0JBQUFMLEdBQUEsRUFBQU0sR0FBQSxFQUFBQyxLQUFBLElBQUFELEdBQUEsR0FBQUUsY0FBQSxDQUFBRixHQUFBLE9BQUFBLEdBQUEsSUFBQU4sR0FBQSxJQUFBUyxNQUFBLENBQUFDLGNBQUEsQ0FBQVYsR0FBQSxFQUFBTSxHQUFBLElBQUFDLEtBQUEsRUFBQUEsS0FBQSxFQUFBSSxVQUFBLFFBQUFDLFlBQUEsUUFBQUMsUUFBQSxvQkFBQWIsR0FBQSxDQUFBTSxHQUFBLElBQUFDLEtBQUEsV0FBQVAsR0FBQTtBQUFBLFNBQUFRLGVBQUFNLEdBQUEsUUFBQVIsR0FBQSxHQUFBUyxZQUFBLENBQUFELEdBQUEsb0JBQUFmLE9BQUEsQ0FBQU8sR0FBQSxpQkFBQUEsR0FBQSxHQUFBVSxNQUFBLENBQUFWLEdBQUE7QUFBQSxTQUFBUyxhQUFBRSxLQUFBLEVBQUFDLElBQUEsUUFBQW5CLE9BQUEsQ0FBQWtCLEtBQUEsa0JBQUFBLEtBQUEsa0JBQUFBLEtBQUEsTUFBQUUsSUFBQSxHQUFBRixLQUFBLENBQUFoQixNQUFBLENBQUFtQixXQUFBLE9BQUFELElBQUEsS0FBQUUsU0FBQSxRQUFBQyxHQUFBLEdBQUFILElBQUEsQ0FBQUksSUFBQSxDQUFBTixLQUFBLEVBQUFDLElBQUEsb0JBQUFuQixPQUFBLENBQUF1QixHQUFBLHVCQUFBQSxHQUFBLFlBQUFFLFNBQUEsNERBQUFOLElBQUEsZ0JBQUFGLE1BQUEsR0FBQVMsTUFBQSxFQUFBUixLQUFBO0FBQ0EsSUFBSVMseUJBQXlCLEdBQUcsWUFBWTtFQUV4Qzs7RUFFQTtFQUNBLElBQU1DLFNBQVMsR0FBRyxTQUFaQSxTQUFTQSxDQUFBLEVBQVM7SUFDcEI7SUFDQSxJQUFNQyxRQUFRLEdBQUcsQ0FDYix1Q0FBdUMsRUFDdkMsNENBQTRDLENBQy9DOztJQUVEO0lBQ0FBLFFBQVEsQ0FBQ0MsT0FBTyxDQUFDLFVBQUFDLE9BQU8sRUFBSTtNQUN4QjtNQUNBLElBQUlDLEtBQUssR0FBR0MsUUFBUSxDQUFDQyxhQUFhLENBQUNILE9BQU8sQ0FBQzs7TUFFM0M7TUFDQSxJQUFJLENBQUNDLEtBQUssRUFBRTtRQUNSO01BQ0o7O01BRUE7TUFDQUEsS0FBSyxHQUFHLElBQUlHLEtBQUssQ0FBQ0osT0FBTyxFQUFFO1FBQ3ZCSyxPQUFPLEVBQUU7VUFDTEMsT0FBTyxFQUFFLENBQ0wsQ0FBQztZQUNHQyxNQUFNLEVBQUUsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxFQUFFLEtBQUs7VUFDeEIsQ0FBQyxDQUFDLEVBQ0YsQ0FBQyxNQUFNLEVBQUUsUUFBUSxFQUFFLFdBQVcsQ0FBQyxFQUMvQixDQUFDLE9BQU8sRUFBRSxZQUFZLENBQUM7UUFFL0IsQ0FBQztRQUNEQyxXQUFXLEVBQUUsd0JBQXdCO1FBQ3JDQyxLQUFLLEVBQUUsTUFBTSxDQUFDO01BQ2xCLENBQUMsQ0FBQztJQUNOLENBQUMsQ0FBQztFQUNOLENBQUM7O0VBRUQ7RUFDQSxJQUFNQyxVQUFVLEdBQUcsU0FBYkEsVUFBVUEsQ0FBQSxFQUFTO0lBQ3JCO0lBQ0EsSUFBTVosUUFBUSxHQUFHLENBQ2Isb0NBQW9DLEVBQ3BDLGdDQUFnQyxDQUNuQzs7SUFFRDtJQUNBQSxRQUFRLENBQUNDLE9BQU8sQ0FBQyxVQUFBQyxPQUFPLEVBQUk7TUFDeEI7TUFDQSxJQUFNVyxNQUFNLEdBQUdULFFBQVEsQ0FBQ0MsYUFBYSxDQUFDSCxPQUFPLENBQUM7O01BRTlDO01BQ0EsSUFBSSxDQUFDVyxNQUFNLEVBQUU7UUFDVDtNQUNKOztNQUVBO01BQ0EsSUFBSUMsTUFBTSxDQUFDRCxNQUFNLEVBQUU7UUFDZkUsU0FBUyxFQUFFLENBQUMsS0FBSyxFQUFFLFVBQVUsRUFBRSxNQUFNLEVBQUUsWUFBWSxFQUFFLGNBQWMsRUFBRSxTQUFTLENBQUM7UUFDL0VDLFFBQVEsRUFBRTtVQUNOQyxRQUFRLEVBQUUsRUFBRTtVQUFZO1VBQ3hCQyxTQUFTLEVBQUUsNkJBQTZCO1VBQUU7VUFDMUNDLE9BQU8sRUFBRSxDQUFDO1VBQWM7VUFDeEJDLGFBQWEsRUFBRSxLQUFLLENBQUk7UUFDNUI7TUFDSixDQUFDLENBQUM7SUFDTixDQUFDLENBQUM7RUFDTixDQUFDOztFQUVEO0VBQ0EsSUFBTUMsZ0JBQWdCLEdBQUcsU0FBbkJBLGdCQUFnQkEsQ0FBQSxFQUFTO0lBQzNCQyxDQUFDLENBQUMsbUNBQW1DLENBQUMsQ0FBQ0MsUUFBUSxDQUFDO01BQzVDQyxTQUFTLEVBQUUsS0FBSztNQUVoQkMsYUFBYSxFQUFFO1FBQ1gsWUFBWSxFQUFFO01BQ2xCLENBQUM7TUFFREMsSUFBSSxFQUFFLFNBQUFBLEtBQUEsRUFBWTtRQUNkSixDQUFDLENBQUMsSUFBSSxDQUFDLENBQUNLLFNBQVMsRUFBRTs7UUFFbkI7UUFDQUMscUJBQXFCLEVBQUU7TUFDM0IsQ0FBQztNQUVEQyxJQUFJLEVBQUUsU0FBQUEsS0FBVUMsYUFBYSxFQUFFO1FBQzNCUixDQUFDLENBQUMsSUFBSSxDQUFDLENBQUNTLE9BQU8sQ0FBQ0QsYUFBYSxDQUFDO01BQ2xDO0lBQ0osQ0FBQyxDQUFDO0VBQ04sQ0FBQzs7RUFFRDtFQUNBLElBQU1GLHFCQUFxQixHQUFHLFNBQXhCQSxxQkFBcUJBLENBQUEsRUFBUztJQUNoQztJQUNBLElBQU1JLGlCQUFpQixHQUFHNUIsUUFBUSxDQUFDNkIsZ0JBQWdCLENBQUMsMERBQTBELENBQUM7SUFDL0dELGlCQUFpQixDQUFDL0IsT0FBTyxDQUFDLFVBQUFpQyxJQUFJLEVBQUk7TUFDOUIsSUFBSVosQ0FBQyxDQUFDWSxJQUFJLENBQUMsQ0FBQ0MsUUFBUSxDQUFDLDJCQUEyQixDQUFDLEVBQUU7UUFDL0M7TUFDSixDQUFDLE1BQU07UUFDSGIsQ0FBQyxDQUFDWSxJQUFJLENBQUMsQ0FBQ0UsT0FBTyxDQUFDO1VBQ1pDLHVCQUF1QixFQUFFLENBQUM7UUFDOUIsQ0FBQyxDQUFDO01BQ047SUFDSixDQUFDLENBQUM7RUFDTixDQUFDOztFQUdEO0VBQ0EsSUFBTUMsVUFBVSxHQUFHLFNBQWJBLFVBQVVBLENBQUEsRUFBUztJQUNyQixJQUFJQyxNQUFNLEdBQUduQyxRQUFRLENBQUNDLGFBQWEsQ0FBQywyQ0FBMkMsQ0FBQztJQUNoRixJQUFJMUIsS0FBSyxHQUFHeUIsUUFBUSxDQUFDQyxhQUFhLENBQUMsMENBQTBDLENBQUM7SUFFOUVtQyxVQUFVLENBQUNDLE1BQU0sQ0FBQ0YsTUFBTSxFQUFFO01BQ3RCRyxLQUFLLEVBQUUsQ0FBQyxFQUFFLENBQUM7TUFDWEMsT0FBTyxFQUFFLElBQUk7TUFDYkMsS0FBSyxFQUFFO1FBQ0gsS0FBSyxFQUFFLENBQUM7UUFDUixLQUFLLEVBQUU7TUFDWDtJQUNKLENBQUMsQ0FBQztJQUVGTCxNQUFNLENBQUNDLFVBQVUsQ0FBQ0ssRUFBRSxDQUFDLFFBQVEsRUFBRSxVQUFVQyxNQUFNLEVBQUVDLE1BQU0sRUFBRTtNQUNyRHBFLEtBQUssQ0FBQ3FFLFNBQVMsR0FBR0MsSUFBSSxDQUFDQyxLQUFLLENBQUNKLE1BQU0sQ0FBQ0MsTUFBTSxDQUFDLENBQUM7TUFDNUMsSUFBSUEsTUFBTSxFQUFFO1FBQ1JwRSxLQUFLLENBQUNxRSxTQUFTLEdBQUdDLElBQUksQ0FBQ0MsS0FBSyxDQUFDSixNQUFNLENBQUNDLE1BQU0sQ0FBQyxDQUFDO01BQ2hEO0lBQ0osQ0FBQyxDQUFDO0VBQ04sQ0FBQzs7RUFFRDtFQUNBLElBQU1JLFlBQVksR0FBRyxTQUFmQSxZQUFZQSxDQUFBLEVBQVM7SUFDdkIsSUFBSUMsVUFBVSxHQUFHLElBQUlDLFFBQVEsQ0FBQyxpQ0FBaUMsRUFBRTtNQUM3REMsR0FBRyxFQUFFLHlDQUF5QztNQUFFO01BQ2hEQyxTQUFTLEVBQUUsTUFBTTtNQUFFO01BQ25CQyxRQUFRLEVBQUUsRUFBRTtNQUNaQyxXQUFXLEVBQUUsRUFBRTtNQUFFO01BQ2pCQyxjQUFjLEVBQUUsSUFBSTtNQUNwQkMsTUFBTSxFQUFFLFNBQUFBLE9BQVVDLElBQUksRUFBRUMsSUFBSSxFQUFFO1FBQzFCLElBQUlELElBQUksQ0FBQ0UsSUFBSSxJQUFJLFNBQVMsRUFBRTtVQUN4QkQsSUFBSSxDQUFDLGtCQUFrQixDQUFDO1FBQzVCLENBQUMsTUFBTTtVQUNIQSxJQUFJLEVBQUU7UUFDVjtNQUNKO0lBQ0osQ0FBQyxDQUFDO0VBQ04sQ0FBQzs7RUFFRDtFQUNBLElBQU1FLGNBQWMsR0FBRyxTQUFqQkEsY0FBY0EsQ0FBQSxFQUFTO0lBQ3pCLElBQU1DLGVBQWUsR0FBRzVELFFBQVEsQ0FBQzZCLGdCQUFnQixDQUFDLCtCQUErQixDQUFDO0lBQ2xGLElBQU1nQyxZQUFZLEdBQUc3RCxRQUFRLENBQUM4RCxjQUFjLENBQUMsOENBQThDLENBQUM7SUFDNUYsSUFBTUMsT0FBTyxHQUFHL0QsUUFBUSxDQUFDOEQsY0FBYyxDQUFDLHlDQUF5QyxDQUFDO0lBRWxGRixlQUFlLENBQUMvRCxPQUFPLENBQUMsVUFBQW1FLE1BQU0sRUFBSTtNQUM5QkEsTUFBTSxDQUFDQyxnQkFBZ0IsQ0FBQyxRQUFRLEVBQUUsVUFBQUMsQ0FBQyxFQUFJO1FBQ25DLElBQU0zRixLQUFLLEdBQUcyRixDQUFDLENBQUNDLE1BQU0sQ0FBQzVGLEtBQUs7UUFFNUIsUUFBUUEsS0FBSztVQUNULEtBQUssR0FBRztZQUFFO2NBQ05zRixZQUFZLENBQUNPLFNBQVMsQ0FBQ0MsTUFBTSxDQUFDLFFBQVEsQ0FBQztjQUN2Q04sT0FBTyxDQUFDSyxTQUFTLENBQUNFLEdBQUcsQ0FBQyxRQUFRLENBQUM7Y0FDL0I7WUFDSjtVQUNBLEtBQUssR0FBRztZQUFFO2NBQ05ULFlBQVksQ0FBQ08sU0FBUyxDQUFDRSxHQUFHLENBQUMsUUFBUSxDQUFDO2NBQ3BDUCxPQUFPLENBQUNLLFNBQVMsQ0FBQ0MsTUFBTSxDQUFDLFFBQVEsQ0FBQztjQUNsQztZQUNKO1VBQ0E7WUFBUztjQUNMUixZQUFZLENBQUNPLFNBQVMsQ0FBQ0UsR0FBRyxDQUFDLFFBQVEsQ0FBQztjQUNwQ1AsT0FBTyxDQUFDSyxTQUFTLENBQUNFLEdBQUcsQ0FBQyxRQUFRLENBQUM7Y0FDL0I7WUFDSjtRQUFDO01BRVQsQ0FBQyxDQUFDO0lBQ04sQ0FBQyxDQUFDO0VBQ04sQ0FBQzs7RUFFRDtFQUNBLElBQU1DLGNBQWMsR0FBRyxTQUFqQkEsY0FBY0EsQ0FBQSxFQUFTO0lBQ3pCLElBQU1DLGNBQWMsR0FBR3hFLFFBQVEsQ0FBQzhELGNBQWMsQ0FBQyw0Q0FBNEMsQ0FBQztJQUM1RixJQUFNVyxZQUFZLEdBQUd6RSxRQUFRLENBQUM4RCxjQUFjLENBQUMsbUNBQW1DLENBQUM7SUFFakZVLGNBQWMsQ0FBQ1AsZ0JBQWdCLENBQUMsUUFBUSxFQUFFLFVBQUFDLENBQUMsRUFBSTtNQUMzQyxJQUFNM0YsS0FBSyxHQUFHMkYsQ0FBQyxDQUFDQyxNQUFNLENBQUNPLE9BQU87TUFFOUIsSUFBSW5HLEtBQUssRUFBRTtRQUNQa0csWUFBWSxDQUFDTCxTQUFTLENBQUNDLE1BQU0sQ0FBQyxRQUFRLENBQUM7TUFDM0MsQ0FBQyxNQUFNO1FBQ0hJLFlBQVksQ0FBQ0wsU0FBUyxDQUFDRSxHQUFHLENBQUMsUUFBUSxDQUFDO01BQ3hDO0lBQ0osQ0FBQyxDQUFDO0VBQ04sQ0FBQzs7RUFFRDtFQUNBLElBQU1LLFlBQVksR0FBRyxTQUFmQSxZQUFZQSxDQUFBLEVBQVM7SUFDdkIsSUFBTVIsTUFBTSxHQUFHbkUsUUFBUSxDQUFDOEQsY0FBYyxDQUFDLGlDQUFpQyxDQUFDO0lBQ3pFLElBQU1jLE1BQU0sR0FBRzVFLFFBQVEsQ0FBQzhELGNBQWMsQ0FBQyx3Q0FBd0MsQ0FBQztJQUNoRixJQUFNZSxhQUFhLEdBQUcsQ0FBQyxZQUFZLEVBQUUsWUFBWSxFQUFFLFdBQVcsQ0FBQztJQUUvRDNELENBQUMsQ0FBQzBELE1BQU0sQ0FBQyxDQUFDbkMsRUFBRSxDQUFDLFFBQVEsRUFBRSxVQUFVeUIsQ0FBQyxFQUFFO01BQ2hDLElBQU0zRixLQUFLLEdBQUcyRixDQUFDLENBQUNDLE1BQU0sQ0FBQzVGLEtBQUs7TUFFNUIsUUFBUUEsS0FBSztRQUNULEtBQUssV0FBVztVQUFFO1lBQUEsSUFBQXVHLGlCQUFBO1lBQ2QsQ0FBQUEsaUJBQUEsR0FBQVgsTUFBTSxDQUFDQyxTQUFTLEVBQUNDLE1BQU0sQ0FBQVUsS0FBQSxDQUFBRCxpQkFBQSxFQUFJRCxhQUFhLENBQUM7WUFDekNWLE1BQU0sQ0FBQ0MsU0FBUyxDQUFDRSxHQUFHLENBQUMsWUFBWSxDQUFDO1lBQ2xDVSxjQUFjLEVBQUU7WUFDaEI7VUFDSjtRQUNBLEtBQUssV0FBVztVQUFFO1lBQUEsSUFBQUMsa0JBQUE7WUFDZCxDQUFBQSxrQkFBQSxHQUFBZCxNQUFNLENBQUNDLFNBQVMsRUFBQ0MsTUFBTSxDQUFBVSxLQUFBLENBQUFFLGtCQUFBLEVBQUlKLGFBQWEsQ0FBQztZQUN6Q1YsTUFBTSxDQUFDQyxTQUFTLENBQUNFLEdBQUcsQ0FBQyxZQUFZLENBQUM7WUFDbENZLGNBQWMsRUFBRTtZQUNoQjtVQUNKO1FBQ0EsS0FBSyxVQUFVO1VBQUU7WUFBQSxJQUFBQyxrQkFBQTtZQUNiLENBQUFBLGtCQUFBLEdBQUFoQixNQUFNLENBQUNDLFNBQVMsRUFBQ0MsTUFBTSxDQUFBVSxLQUFBLENBQUFJLGtCQUFBLEVBQUlOLGFBQWEsQ0FBQztZQUN6Q1YsTUFBTSxDQUFDQyxTQUFTLENBQUNFLEdBQUcsQ0FBQyxXQUFXLENBQUM7WUFDakNVLGNBQWMsRUFBRTtZQUNoQjtVQUNKO1FBQ0EsS0FBSyxPQUFPO1VBQUU7WUFBQSxJQUFBSSxrQkFBQTtZQUNWLENBQUFBLGtCQUFBLEdBQUFqQixNQUFNLENBQUNDLFNBQVMsRUFBQ0MsTUFBTSxDQUFBVSxLQUFBLENBQUFLLGtCQUFBLEVBQUlQLGFBQWEsQ0FBQztZQUN6Q1YsTUFBTSxDQUFDQyxTQUFTLENBQUNFLEdBQUcsQ0FBQyxZQUFZLENBQUM7WUFDbENVLGNBQWMsRUFBRTtZQUNoQjtVQUNKO1FBQ0E7VUFDSTtNQUFNO0lBRWxCLENBQUMsQ0FBQzs7SUFHRjtJQUNBLElBQU1LLFVBQVUsR0FBR3JGLFFBQVEsQ0FBQzhELGNBQWMsQ0FBQyw0Q0FBNEMsQ0FBQzs7SUFFeEY7SUFDQTVDLENBQUMsQ0FBQyw2Q0FBNkMsQ0FBQyxDQUFDb0UsU0FBUyxDQUFDO01BQ3ZEQyxVQUFVLEVBQUUsSUFBSTtNQUNoQkMsVUFBVSxFQUFFO0lBQ2hCLENBQUMsQ0FBQztJQUVGLElBQU1OLGNBQWMsR0FBRyxTQUFqQkEsY0FBY0EsQ0FBQSxFQUFTO01BQ3pCRyxVQUFVLENBQUNJLFVBQVUsQ0FBQ3JCLFNBQVMsQ0FBQ0MsTUFBTSxDQUFDLFFBQVEsQ0FBQztJQUNwRCxDQUFDO0lBRUQsSUFBTVcsY0FBYyxHQUFHLFNBQWpCQSxjQUFjQSxDQUFBLEVBQVM7TUFDekJLLFVBQVUsQ0FBQ0ksVUFBVSxDQUFDckIsU0FBUyxDQUFDRSxHQUFHLENBQUMsUUFBUSxDQUFDO0lBQ2pELENBQUM7RUFDTCxDQUFDOztFQUVEO0VBQ0EsSUFBTW9CLGdCQUFnQixHQUFHLFNBQW5CQSxnQkFBZ0JBLENBQUEsRUFBUztJQUMzQixJQUFNQyxhQUFhLEdBQUczRixRQUFRLENBQUM2QixnQkFBZ0IsQ0FBQywrQkFBK0IsQ0FBQztJQUNoRixJQUFNK0QsY0FBYyxHQUFHNUYsUUFBUSxDQUFDQyxhQUFhLENBQUMseURBQXlELENBQUM7SUFDeEcwRixhQUFhLENBQUM5RixPQUFPLENBQUMsVUFBQWdHLEtBQUssRUFBSTtNQUMzQkEsS0FBSyxDQUFDNUIsZ0JBQWdCLENBQUMsUUFBUSxFQUFFLFVBQUFDLENBQUMsRUFBSTtRQUNsQyxJQUFJQSxDQUFDLENBQUNDLE1BQU0sQ0FBQzVGLEtBQUssS0FBSyxHQUFHLEVBQUU7VUFDeEJxSCxjQUFjLENBQUN4QixTQUFTLENBQUNDLE1BQU0sQ0FBQyxRQUFRLENBQUM7UUFDN0MsQ0FBQyxNQUFNO1VBQ0h1QixjQUFjLENBQUN4QixTQUFTLENBQUNFLEdBQUcsQ0FBQyxRQUFRLENBQUM7UUFDMUM7TUFDSixDQUFDLENBQUM7SUFDTixDQUFDLENBQUM7RUFDTixDQUFDOztFQUVEO0VBQ0EsSUFBTXdCLFlBQVksR0FBRyxTQUFmQSxZQUFZQSxDQUFBLEVBQVM7SUFBQSxJQUFBQyxPQUFBO0lBQ3ZCO0lBQ0EsSUFBSUMsU0FBUzs7SUFFYjtJQUNBLElBQU1DLElBQUksR0FBR2pHLFFBQVEsQ0FBQzhELGNBQWMsQ0FBQywrQkFBK0IsQ0FBQztJQUNyRSxJQUFNb0MsWUFBWSxHQUFHbEcsUUFBUSxDQUFDOEQsY0FBYyxDQUFDLGlDQUFpQyxDQUFDOztJQUUvRTtJQUNBa0MsU0FBUyxHQUFHRyxjQUFjLENBQUNDLGNBQWMsQ0FDckNILElBQUksRUFDSjtNQUNJSSxNQUFNLEdBQUFOLE9BQUE7UUFDRixjQUFjLEVBQUU7VUFDWk8sVUFBVSxFQUFFO1lBQ1JDLFFBQVEsRUFBRTtjQUNOQyxPQUFPLEVBQUU7WUFDYjtVQUNKO1FBQ0osQ0FBQztRQUNELEtBQUssRUFBRTtVQUNIRixVQUFVLEVBQUU7WUFDUkMsUUFBUSxFQUFFO2NBQ05DLE9BQU8sRUFBRTtZQUNiO1VBQ0o7UUFDSjtNQUFDLEdBQUFuSSxlQUFBLENBQUEwSCxPQUFBLFNBQ007UUFDSE8sVUFBVSxFQUFFO1VBQ1JDLFFBQVEsRUFBRTtZQUNOQyxPQUFPLEVBQUU7VUFDYjtRQUNKO01BQ0osQ0FBQyxHQUFBbkksZUFBQSxDQUFBMEgsT0FBQSxFQUNELE9BQU8sRUFBRTtRQUNMTyxVQUFVLEVBQUU7VUFDUkMsUUFBUSxFQUFFO1lBQ05DLE9BQU8sRUFBRTtVQUNiO1FBQ0o7TUFDSixDQUFDLEdBQUFuSSxlQUFBLENBQUEwSCxPQUFBLEVBQ0QsT0FBTyxFQUFFO1FBQ0xPLFVBQVUsRUFBRTtVQUNSQyxRQUFRLEVBQUU7WUFDTkMsT0FBTyxFQUFFO1VBQ2I7UUFDSjtNQUNKLENBQUMsR0FBQW5JLGVBQUEsQ0FBQTBILE9BQUEsRUFDRCxLQUFLLEVBQUU7UUFDSE8sVUFBVSxFQUFFO1VBQ1JDLFFBQVEsRUFBRTtZQUNOQyxPQUFPLEVBQUU7VUFDYjtRQUNKO01BQ0osQ0FBQyxHQUFBVCxPQUFBLENBQ0o7TUFDRFUsT0FBTyxFQUFFO1FBQ0xDLE9BQU8sRUFBRSxJQUFJUCxjQUFjLENBQUNNLE9BQU8sQ0FBQ0UsT0FBTyxFQUFFO1FBQzdDQyxTQUFTLEVBQUUsSUFBSVQsY0FBYyxDQUFDTSxPQUFPLENBQUNJLFVBQVUsQ0FBQztVQUM3Q0MsV0FBVyxFQUFFLFNBQVM7VUFDdEJDLGVBQWUsRUFBRSxFQUFFO1VBQ25CQyxhQUFhLEVBQUU7UUFDbkIsQ0FBQztNQUNMO0lBQ0osQ0FBQyxDQUNKOztJQUVEO0lBQ0FkLFlBQVksQ0FBQ2pDLGdCQUFnQixDQUFDLE9BQU8sRUFBRSxVQUFBQyxDQUFDLEVBQUk7TUFDeENBLENBQUMsQ0FBQytDLGNBQWMsRUFBRTs7TUFFbEI7TUFDQSxJQUFJakIsU0FBUyxFQUFFO1FBQ1hBLFNBQVMsQ0FBQ2tCLFFBQVEsRUFBRSxDQUFDQyxJQUFJLENBQUMsVUFBVUMsTUFBTSxFQUFFO1VBQ3hDQyxPQUFPLENBQUNDLEdBQUcsQ0FBQyxZQUFZLENBQUM7VUFFekIsSUFBSUYsTUFBTSxJQUFJLE9BQU8sRUFBRTtZQUNuQmxCLFlBQVksQ0FBQ3FCLFlBQVksQ0FBQyxtQkFBbUIsRUFBRSxJQUFJLENBQUM7O1lBRXBEO1lBQ0FyQixZQUFZLENBQUNzQixRQUFRLEdBQUcsSUFBSTtZQUU1QkMsVUFBVSxDQUFDLFlBQVk7Y0FDbkJ2QixZQUFZLENBQUN3QixlQUFlLENBQUMsbUJBQW1CLENBQUM7Y0FFakRDLElBQUksQ0FBQ0MsSUFBSSxDQUFDO2dCQUNOQyxJQUFJLEVBQUUsdUNBQXVDO2dCQUM3Q0MsSUFBSSxFQUFFLFNBQVM7Z0JBQ2ZDLGNBQWMsRUFBRSxLQUFLO2dCQUNyQkMsaUJBQWlCLEVBQUUsYUFBYTtnQkFDaENDLFdBQVcsRUFBRTtrQkFDVEMsYUFBYSxFQUFFO2dCQUNuQjtjQUNKLENBQUMsQ0FBQyxDQUFDZixJQUFJLENBQUMsVUFBVWdCLE1BQU0sRUFBRTtnQkFDdEIsSUFBSUEsTUFBTSxDQUFDQyxXQUFXLEVBQUU7a0JBQ3BCO2tCQUNBbEMsWUFBWSxDQUFDc0IsUUFBUSxHQUFHLEtBQUs7O2tCQUU3QjtrQkFDQWEsTUFBTSxDQUFDQyxRQUFRLEdBQUdyQyxJQUFJLENBQUNzQyxZQUFZLENBQUMsa0JBQWtCLENBQUM7Z0JBQzNEO2NBQ0osQ0FBQyxDQUFDO1lBQ04sQ0FBQyxFQUFFLElBQUksQ0FBQztVQUNaLENBQUMsTUFBTTtZQUNIWixJQUFJLENBQUNDLElBQUksQ0FBQztjQUNOWSxJQUFJLEVBQUUsc0xBQXNMO2NBQzVMVixJQUFJLEVBQUUsT0FBTztjQUNiQyxjQUFjLEVBQUUsS0FBSztjQUNyQkMsaUJBQWlCLEVBQUUsYUFBYTtjQUNoQ0MsV0FBVyxFQUFFO2dCQUNUQyxhQUFhLEVBQUU7Y0FDbkI7WUFDSixDQUFDLENBQUM7VUFDTjtRQUNKLENBQUMsQ0FBQztNQUNOO0lBQ0osQ0FBQyxDQUFDO0VBQ04sQ0FBQzs7RUFFRDtFQUNBLE9BQU87SUFDSE8sSUFBSSxFQUFFLFNBQUFBLEtBQUEsRUFBWTtNQUNkO01BQ0E5SSxTQUFTLEVBQUU7TUFDWGEsVUFBVSxFQUFFO01BQ1owQixVQUFVLEVBQUU7TUFDWmpCLGdCQUFnQixFQUFFO01BQ2xCOEIsWUFBWSxFQUFFO01BQ2R2QixxQkFBcUIsRUFBRTs7TUFFdkI7TUFDQW1ELFlBQVksRUFBRTtNQUNkZSxnQkFBZ0IsRUFBRTtNQUNsQi9CLGNBQWMsRUFBRTtNQUNoQlksY0FBYyxFQUFFO01BQ2hCdUIsWUFBWSxFQUFFO0lBQ2xCO0VBQ0osQ0FBQztBQUNMLENBQUMsRUFBRTs7QUFFSDtBQUNBNEMsTUFBTSxDQUFDQyxrQkFBa0IsQ0FBQyxZQUFZO0VBQ2xDakoseUJBQXlCLENBQUMrSSxJQUFJLEVBQUU7QUFDcEMsQ0FBQyxDQUFDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4vcmVzb3VyY2VzL3NyYy9qcy9jdXN0b20vYXBwcy9lY29tbWVyY2UvY2F0YWxvZy9zYXZlLXByb2R1Y3QuanM/ZGRmNSJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcclxuXHJcbi8vIENsYXNzIGRlZmluaXRpb25cclxudmFyIEtUQXBwRWNvbW1lcmNlU2F2ZVByb2R1Y3QgPSBmdW5jdGlvbiAoKSB7XHJcblxyXG4gICAgLy8gUHJpdmF0ZSBmdW5jdGlvbnNcclxuXHJcbiAgICAvLyBJbml0IHF1aWxsIGVkaXRvclxyXG4gICAgY29uc3QgaW5pdFF1aWxsID0gKCkgPT4ge1xyXG4gICAgICAgIC8vIERlZmluZSBhbGwgZWxlbWVudHMgZm9yIHF1aWxsIGVkaXRvclxyXG4gICAgICAgIGNvbnN0IGVsZW1lbnRzID0gW1xyXG4gICAgICAgICAgICAnI2t0X2Vjb21tZXJjZV9hZGRfcHJvZHVjdF9kZXNjcmlwdGlvbicsXHJcbiAgICAgICAgICAgICcja3RfZWNvbW1lcmNlX2FkZF9wcm9kdWN0X21ldGFfZGVzY3JpcHRpb24nXHJcbiAgICAgICAgXTtcclxuXHJcbiAgICAgICAgLy8gTG9vcCBhbGwgZWxlbWVudHNcclxuICAgICAgICBlbGVtZW50cy5mb3JFYWNoKGVsZW1lbnQgPT4ge1xyXG4gICAgICAgICAgICAvLyBHZXQgcXVpbGwgZWxlbWVudFxyXG4gICAgICAgICAgICBsZXQgcXVpbGwgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGVsZW1lbnQpO1xyXG5cclxuICAgICAgICAgICAgLy8gQnJlYWsgaWYgZWxlbWVudCBub3QgZm91bmRcclxuICAgICAgICAgICAgaWYgKCFxdWlsbCkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAvLyBJbml0IHF1aWxsIC0tLSBtb3JlIGluZm86IGh0dHBzOi8vcXVpbGxqcy5jb20vZG9jcy9xdWlja3N0YXJ0L1xyXG4gICAgICAgICAgICBxdWlsbCA9IG5ldyBRdWlsbChlbGVtZW50LCB7XHJcbiAgICAgICAgICAgICAgICBtb2R1bGVzOiB7XHJcbiAgICAgICAgICAgICAgICAgICAgdG9vbGJhcjogW1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBbe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaGVhZGVyOiBbMSwgMiwgZmFsc2VdXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1dLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBbJ2JvbGQnLCAnaXRhbGljJywgJ3VuZGVybGluZSddLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBbJ2ltYWdlJywgJ2NvZGUtYmxvY2snXVxyXG4gICAgICAgICAgICAgICAgICAgIF1cclxuICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICBwbGFjZWhvbGRlcjogJ1R5cGUgeW91ciB0ZXh0IGhlcmUuLi4nLFxyXG4gICAgICAgICAgICAgICAgdGhlbWU6ICdzbm93JyAvLyBvciAnYnViYmxlJ1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9KTtcclxuICAgIH1cclxuXHJcbiAgICAvLyBJbml0IHRhZ2lmeVxyXG4gICAgY29uc3QgaW5pdFRhZ2lmeSA9ICgpID0+IHtcclxuICAgICAgICAvLyBEZWZpbmUgYWxsIGVsZW1lbnRzIGZvciB0YWdpZnlcclxuICAgICAgICBjb25zdCBlbGVtZW50cyA9IFtcclxuICAgICAgICAgICAgJyNrdF9lY29tbWVyY2VfYWRkX3Byb2R1Y3RfY2F0ZWdvcnknLFxyXG4gICAgICAgICAgICAnI2t0X2Vjb21tZXJjZV9hZGRfcHJvZHVjdF90YWdzJ1xyXG4gICAgICAgIF07XHJcblxyXG4gICAgICAgIC8vIExvb3AgYWxsIGVsZW1lbnRzXHJcbiAgICAgICAgZWxlbWVudHMuZm9yRWFjaChlbGVtZW50ID0+IHtcclxuICAgICAgICAgICAgLy8gR2V0IHRhZ2lmeSBlbGVtZW50XHJcbiAgICAgICAgICAgIGNvbnN0IHRhZ2lmeSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoZWxlbWVudCk7XHJcblxyXG4gICAgICAgICAgICAvLyBCcmVhayBpZiBlbGVtZW50IG5vdCBmb3VuZFxyXG4gICAgICAgICAgICBpZiAoIXRhZ2lmeSkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAvLyBJbml0IHRhZ2lmeSAtLS0gbW9yZSBpbmZvOiBodHRwczovL3lhaXJlby5naXRodWIuaW8vdGFnaWZ5L1xyXG4gICAgICAgICAgICBuZXcgVGFnaWZ5KHRhZ2lmeSwge1xyXG4gICAgICAgICAgICAgICAgd2hpdGVsaXN0OiBbXCJuZXdcIiwgXCJ0cmVuZGluZ1wiLCBcInNhbGVcIiwgXCJkaXNjb3VudGVkXCIsIFwic2VsbGluZyBmYXN0XCIsIFwibGFzdCAxMFwiXSxcclxuICAgICAgICAgICAgICAgIGRyb3Bkb3duOiB7XHJcbiAgICAgICAgICAgICAgICAgICAgbWF4SXRlbXM6IDIwLCAgICAgICAgICAgLy8gPC0gbWl4dW11bSBhbGxvd2VkIHJlbmRlcmVkIHN1Z2dlc3Rpb25zXHJcbiAgICAgICAgICAgICAgICAgICAgY2xhc3NuYW1lOiBcInRhZ2lmeV9faW5saW5lX19zdWdnZXN0aW9uc1wiLCAvLyA8LSBjdXN0b20gY2xhc3NuYW1lIGZvciB0aGlzIGRyb3Bkb3duLCBzbyBpdCBjb3VsZCBiZSB0YXJnZXRlZFxyXG4gICAgICAgICAgICAgICAgICAgIGVuYWJsZWQ6IDAsICAgICAgICAgICAgIC8vIDwtIHNob3cgc3VnZ2VzdGlvbnMgb24gZm9jdXNcclxuICAgICAgICAgICAgICAgICAgICBjbG9zZU9uU2VsZWN0OiBmYWxzZSAgICAvLyA8LSBkbyBub3QgaGlkZSB0aGUgc3VnZ2VzdGlvbnMgZHJvcGRvd24gb25jZSBhbiBpdGVtIGhhcyBiZWVuIHNlbGVjdGVkXHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG5cclxuICAgIC8vIEluaXQgZm9ybSByZXBlYXRlciAtLS0gbW9yZSBpbmZvOiBodHRwczovL2dpdGh1Yi5jb20vRHViRnJpZW5kL2pxdWVyeS5yZXBlYXRlclxyXG4gICAgY29uc3QgaW5pdEZvcm1SZXBlYXRlciA9ICgpID0+IHtcclxuICAgICAgICAkKCcja3RfZWNvbW1lcmNlX2FkZF9wcm9kdWN0X29wdGlvbnMnKS5yZXBlYXRlcih7XHJcbiAgICAgICAgICAgIGluaXRFbXB0eTogZmFsc2UsXHJcblxyXG4gICAgICAgICAgICBkZWZhdWx0VmFsdWVzOiB7XHJcbiAgICAgICAgICAgICAgICAndGV4dC1pbnB1dCc6ICdmb28nXHJcbiAgICAgICAgICAgIH0sXHJcblxyXG4gICAgICAgICAgICBzaG93OiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAkKHRoaXMpLnNsaWRlRG93bigpO1xyXG5cclxuICAgICAgICAgICAgICAgIC8vIEluaXQgc2VsZWN0MiBvbiBuZXcgcmVwZWF0ZWQgaXRlbXNcclxuICAgICAgICAgICAgICAgIGluaXRDb25kaXRpb25zU2VsZWN0MigpO1xyXG4gICAgICAgICAgICB9LFxyXG5cclxuICAgICAgICAgICAgaGlkZTogZnVuY3Rpb24gKGRlbGV0ZUVsZW1lbnQpIHtcclxuICAgICAgICAgICAgICAgICQodGhpcykuc2xpZGVVcChkZWxldGVFbGVtZW50KTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG5cclxuICAgIC8vIEluaXQgY29uZGl0aW9uIHNlbGVjdDJcclxuICAgIGNvbnN0IGluaXRDb25kaXRpb25zU2VsZWN0MiA9ICgpID0+IHtcclxuICAgICAgICAvLyBUbml0IG5ldyByZXBlYXRpbmcgY29uZGl0aW9uIHR5cGVzXHJcbiAgICAgICAgY29uc3QgYWxsQ29uZGl0aW9uVHlwZXMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCdbZGF0YS1rdC1lY29tbWVyY2UtY2F0YWxvZy1hZGQtcHJvZHVjdD1cInByb2R1Y3Rfb3B0aW9uXCJdJyk7XHJcbiAgICAgICAgYWxsQ29uZGl0aW9uVHlwZXMuZm9yRWFjaCh0eXBlID0+IHtcclxuICAgICAgICAgICAgaWYgKCQodHlwZSkuaGFzQ2xhc3MoXCJzZWxlY3QyLWhpZGRlbi1hY2Nlc3NpYmxlXCIpKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAkKHR5cGUpLnNlbGVjdDIoe1xyXG4gICAgICAgICAgICAgICAgICAgIG1pbmltdW1SZXN1bHRzRm9yU2VhcmNoOiAtMVxyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuICAgIH1cclxuXHJcblxyXG4gICAgLy8gSW5pdCBub1VJc2xpZGVyXHJcbiAgICBjb25zdCBpbml0U2xpZGVyID0gKCkgPT4ge1xyXG4gICAgICAgIHZhciBzbGlkZXIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiI2t0X2Vjb21tZXJjZV9hZGRfcHJvZHVjdF9kaXNjb3VudF9zbGlkZXJcIik7XHJcbiAgICAgICAgdmFyIHZhbHVlID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIiNrdF9lY29tbWVyY2VfYWRkX3Byb2R1Y3RfZGlzY291bnRfbGFiZWxcIik7XHJcblxyXG4gICAgICAgIG5vVWlTbGlkZXIuY3JlYXRlKHNsaWRlciwge1xyXG4gICAgICAgICAgICBzdGFydDogWzEwXSxcclxuICAgICAgICAgICAgY29ubmVjdDogdHJ1ZSxcclxuICAgICAgICAgICAgcmFuZ2U6IHtcclxuICAgICAgICAgICAgICAgIFwibWluXCI6IDEsXHJcbiAgICAgICAgICAgICAgICBcIm1heFwiOiAxMDBcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICBzbGlkZXIubm9VaVNsaWRlci5vbihcInVwZGF0ZVwiLCBmdW5jdGlvbiAodmFsdWVzLCBoYW5kbGUpIHtcclxuICAgICAgICAgICAgdmFsdWUuaW5uZXJIVE1MID0gTWF0aC5yb3VuZCh2YWx1ZXNbaGFuZGxlXSk7XHJcbiAgICAgICAgICAgIGlmIChoYW5kbGUpIHtcclxuICAgICAgICAgICAgICAgIHZhbHVlLmlubmVySFRNTCA9IE1hdGgucm91bmQodmFsdWVzW2hhbmRsZV0pO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcblxyXG4gICAgLy8gSW5pdCBEcm9wem9uZUpTIC0tLSBtb3JlIGluZm86XHJcbiAgICBjb25zdCBpbml0RHJvcHpvbmUgPSAoKSA9PiB7XHJcbiAgICAgICAgdmFyIG15RHJvcHpvbmUgPSBuZXcgRHJvcHpvbmUoXCIja3RfZWNvbW1lcmNlX2FkZF9wcm9kdWN0X21lZGlhXCIsIHtcclxuICAgICAgICAgICAgdXJsOiBcImh0dHBzOi8va2VlbnRoZW1lcy5jb20vc2NyaXB0cy92b2lkLnBocFwiLCAvLyBTZXQgdGhlIHVybCBmb3IgeW91ciB1cGxvYWQgc2NyaXB0IGxvY2F0aW9uXHJcbiAgICAgICAgICAgIHBhcmFtTmFtZTogXCJmaWxlXCIsIC8vIFRoZSBuYW1lIHRoYXQgd2lsbCBiZSB1c2VkIHRvIHRyYW5zZmVyIHRoZSBmaWxlXHJcbiAgICAgICAgICAgIG1heEZpbGVzOiAxMCxcclxuICAgICAgICAgICAgbWF4RmlsZXNpemU6IDEwLCAvLyBNQlxyXG4gICAgICAgICAgICBhZGRSZW1vdmVMaW5rczogdHJ1ZSxcclxuICAgICAgICAgICAgYWNjZXB0OiBmdW5jdGlvbiAoZmlsZSwgZG9uZSkge1xyXG4gICAgICAgICAgICAgICAgaWYgKGZpbGUubmFtZSA9PSBcIndvdy5qcGdcIikge1xyXG4gICAgICAgICAgICAgICAgICAgIGRvbmUoXCJOYWhhLCB5b3UgZG9uJ3QuXCIpO1xyXG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICBkb25lKCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuICAgIH1cclxuXHJcbiAgICAvLyBIYW5kbGUgZGlzY291bnQgb3B0aW9uc1xyXG4gICAgY29uc3QgaGFuZGxlRGlzY291bnQgPSAoKSA9PiB7XHJcbiAgICAgICAgY29uc3QgZGlzY291bnRPcHRpb25zID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnaW5wdXRbbmFtZT1cImRpc2NvdW50X29wdGlvblwiXScpO1xyXG4gICAgICAgIGNvbnN0IHBlcmNlbnRhZ2VFbCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdrdF9lY29tbWVyY2VfYWRkX3Byb2R1Y3RfZGlzY291bnRfcGVyY2VudGFnZScpO1xyXG4gICAgICAgIGNvbnN0IGZpeGVkRWwgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgna3RfZWNvbW1lcmNlX2FkZF9wcm9kdWN0X2Rpc2NvdW50X2ZpeGVkJyk7XHJcblxyXG4gICAgICAgIGRpc2NvdW50T3B0aW9ucy5mb3JFYWNoKG9wdGlvbiA9PiB7XHJcbiAgICAgICAgICAgIG9wdGlvbi5hZGRFdmVudExpc3RlbmVyKCdjaGFuZ2UnLCBlID0+IHtcclxuICAgICAgICAgICAgICAgIGNvbnN0IHZhbHVlID0gZS50YXJnZXQudmFsdWU7XHJcblxyXG4gICAgICAgICAgICAgICAgc3dpdGNoICh2YWx1ZSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGNhc2UgJzInOiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHBlcmNlbnRhZ2VFbC5jbGFzc0xpc3QucmVtb3ZlKCdkLW5vbmUnKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgZml4ZWRFbC5jbGFzc0xpc3QuYWRkKCdkLW5vbmUnKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIGNhc2UgJzMnOiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHBlcmNlbnRhZ2VFbC5jbGFzc0xpc3QuYWRkKCdkLW5vbmUnKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgZml4ZWRFbC5jbGFzc0xpc3QucmVtb3ZlKCdkLW5vbmUnKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIGRlZmF1bHQ6IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcGVyY2VudGFnZUVsLmNsYXNzTGlzdC5hZGQoJ2Qtbm9uZScpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBmaXhlZEVsLmNsYXNzTGlzdC5hZGQoJ2Qtbm9uZScpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG5cclxuICAgIC8vIFNoaXBwaW5nIG9wdGlvbiBoYW5kbGVyXHJcbiAgICBjb25zdCBoYW5kbGVTaGlwcGluZyA9ICgpID0+IHtcclxuICAgICAgICBjb25zdCBzaGlwcGluZ09wdGlvbiA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdrdF9lY29tbWVyY2VfYWRkX3Byb2R1Y3Rfc2hpcHBpbmdfY2hlY2tib3gnKTtcclxuICAgICAgICBjb25zdCBzaGlwcGluZ0Zvcm0gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgna3RfZWNvbW1lcmNlX2FkZF9wcm9kdWN0X3NoaXBwaW5nJyk7XHJcblxyXG4gICAgICAgIHNoaXBwaW5nT3B0aW9uLmFkZEV2ZW50TGlzdGVuZXIoJ2NoYW5nZScsIGUgPT4ge1xyXG4gICAgICAgICAgICBjb25zdCB2YWx1ZSA9IGUudGFyZ2V0LmNoZWNrZWQ7XHJcblxyXG4gICAgICAgICAgICBpZiAodmFsdWUpIHtcclxuICAgICAgICAgICAgICAgIHNoaXBwaW5nRm9ybS5jbGFzc0xpc3QucmVtb3ZlKCdkLW5vbmUnKTtcclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgIHNoaXBwaW5nRm9ybS5jbGFzc0xpc3QuYWRkKCdkLW5vbmUnKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG5cclxuICAgIC8vIENhdGVnb3J5IHN0YXR1cyBoYW5kbGVyXHJcbiAgICBjb25zdCBoYW5kbGVTdGF0dXMgPSAoKSA9PiB7XHJcbiAgICAgICAgY29uc3QgdGFyZ2V0ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2t0X2Vjb21tZXJjZV9hZGRfcHJvZHVjdF9zdGF0dXMnKTtcclxuICAgICAgICBjb25zdCBzZWxlY3QgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgna3RfZWNvbW1lcmNlX2FkZF9wcm9kdWN0X3N0YXR1c19zZWxlY3QnKTtcclxuICAgICAgICBjb25zdCBzdGF0dXNDbGFzc2VzID0gWydiZy1zdWNjZXNzJywgJ2JnLXdhcm5pbmcnLCAnYmctZGFuZ2VyJ107XHJcblxyXG4gICAgICAgICQoc2VsZWN0KS5vbignY2hhbmdlJywgZnVuY3Rpb24gKGUpIHtcclxuICAgICAgICAgICAgY29uc3QgdmFsdWUgPSBlLnRhcmdldC52YWx1ZTtcclxuXHJcbiAgICAgICAgICAgIHN3aXRjaCAodmFsdWUpIHtcclxuICAgICAgICAgICAgICAgIGNhc2UgXCJwdWJsaXNoZWRcIjoge1xyXG4gICAgICAgICAgICAgICAgICAgIHRhcmdldC5jbGFzc0xpc3QucmVtb3ZlKC4uLnN0YXR1c0NsYXNzZXMpO1xyXG4gICAgICAgICAgICAgICAgICAgIHRhcmdldC5jbGFzc0xpc3QuYWRkKCdiZy1zdWNjZXNzJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgaGlkZURhdGVwaWNrZXIoKTtcclxuICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGNhc2UgXCJzY2hlZHVsZWRcIjoge1xyXG4gICAgICAgICAgICAgICAgICAgIHRhcmdldC5jbGFzc0xpc3QucmVtb3ZlKC4uLnN0YXR1c0NsYXNzZXMpO1xyXG4gICAgICAgICAgICAgICAgICAgIHRhcmdldC5jbGFzc0xpc3QuYWRkKCdiZy13YXJuaW5nJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgc2hvd0RhdGVwaWNrZXIoKTtcclxuICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGNhc2UgXCJpbmFjdGl2ZVwiOiB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGFyZ2V0LmNsYXNzTGlzdC5yZW1vdmUoLi4uc3RhdHVzQ2xhc3Nlcyk7XHJcbiAgICAgICAgICAgICAgICAgICAgdGFyZ2V0LmNsYXNzTGlzdC5hZGQoJ2JnLWRhbmdlcicpO1xyXG4gICAgICAgICAgICAgICAgICAgIGhpZGVEYXRlcGlja2VyKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBjYXNlIFwiZHJhZnRcIjoge1xyXG4gICAgICAgICAgICAgICAgICAgIHRhcmdldC5jbGFzc0xpc3QucmVtb3ZlKC4uLnN0YXR1c0NsYXNzZXMpO1xyXG4gICAgICAgICAgICAgICAgICAgIHRhcmdldC5jbGFzc0xpc3QuYWRkKCdiZy1wcmltYXJ5Jyk7XHJcbiAgICAgICAgICAgICAgICAgICAgaGlkZURhdGVwaWNrZXIoKTtcclxuICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGRlZmF1bHQ6XHJcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuXHJcblxyXG4gICAgICAgIC8vIEhhbmRsZSBkYXRlcGlja2VyXHJcbiAgICAgICAgY29uc3QgZGF0ZXBpY2tlciA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdrdF9lY29tbWVyY2VfYWRkX3Byb2R1Y3Rfc3RhdHVzX2RhdGVwaWNrZXInKTtcclxuXHJcbiAgICAgICAgLy8gSW5pdCBmbGF0cGlja3IgLS0tIG1vcmUgaW5mbzogaHR0cHM6Ly9mbGF0cGlja3IuanMub3JnL1xyXG4gICAgICAgICQoJyNrdF9lY29tbWVyY2VfYWRkX3Byb2R1Y3Rfc3RhdHVzX2RhdGVwaWNrZXInKS5mbGF0cGlja3Ioe1xyXG4gICAgICAgICAgICBlbmFibGVUaW1lOiB0cnVlLFxyXG4gICAgICAgICAgICBkYXRlRm9ybWF0OiBcIlktbS1kIEg6aVwiLFxyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICBjb25zdCBzaG93RGF0ZXBpY2tlciA9ICgpID0+IHtcclxuICAgICAgICAgICAgZGF0ZXBpY2tlci5wYXJlbnROb2RlLmNsYXNzTGlzdC5yZW1vdmUoJ2Qtbm9uZScpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgY29uc3QgaGlkZURhdGVwaWNrZXIgPSAoKSA9PiB7XHJcbiAgICAgICAgICAgIGRhdGVwaWNrZXIucGFyZW50Tm9kZS5jbGFzc0xpc3QuYWRkKCdkLW5vbmUnKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgLy8gQ29uZGl0aW9uIHR5cGUgaGFuZGxlclxyXG4gICAgY29uc3QgaGFuZGxlQ29uZGl0aW9ucyA9ICgpID0+IHtcclxuICAgICAgICBjb25zdCBhbGxDb25kaXRpb25zID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnW25hbWU9XCJtZXRob2RcIl1bdHlwZT1cInJhZGlvXCJdJyk7XHJcbiAgICAgICAgY29uc3QgY29uZGl0aW9uTWF0Y2ggPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1rdC1lY29tbWVyY2UtY2F0YWxvZy1hZGQtY2F0ZWdvcnk9XCJhdXRvLW9wdGlvbnNcIl0nKTtcclxuICAgICAgICBhbGxDb25kaXRpb25zLmZvckVhY2gocmFkaW8gPT4ge1xyXG4gICAgICAgICAgICByYWRpby5hZGRFdmVudExpc3RlbmVyKCdjaGFuZ2UnLCBlID0+IHtcclxuICAgICAgICAgICAgICAgIGlmIChlLnRhcmdldC52YWx1ZSA9PT0gJzEnKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY29uZGl0aW9uTWF0Y2guY2xhc3NMaXN0LnJlbW92ZSgnZC1ub25lJyk7XHJcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbmRpdGlvbk1hdGNoLmNsYXNzTGlzdC5hZGQoJ2Qtbm9uZScpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9KVxyXG4gICAgfVxyXG5cclxuICAgIC8vIFN1Ym1pdCBmb3JtIGhhbmRsZXJcclxuICAgIGNvbnN0IGhhbmRsZVN1Ym1pdCA9ICgpID0+IHtcclxuICAgICAgICAvLyBEZWZpbmUgdmFyaWFibGVzXHJcbiAgICAgICAgbGV0IHZhbGlkYXRvcjtcclxuXHJcbiAgICAgICAgLy8gR2V0IGVsZW1lbnRzXHJcbiAgICAgICAgY29uc3QgZm9ybSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdrdF9lY29tbWVyY2VfYWRkX3Byb2R1Y3RfZm9ybScpO1xyXG4gICAgICAgIGNvbnN0IHN1Ym1pdEJ1dHRvbiA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdrdF9lY29tbWVyY2VfYWRkX3Byb2R1Y3Rfc3VibWl0Jyk7XHJcblxyXG4gICAgICAgIC8vIEluaXQgZm9ybSB2YWxpZGF0aW9uIHJ1bGVzLiBGb3IgbW9yZSBpbmZvIGNoZWNrIHRoZSBGb3JtVmFsaWRhdGlvbiBwbHVnaW4ncyBvZmZpY2lhbCBkb2N1bWVudGF0aW9uOmh0dHBzOi8vZm9ybXZhbGlkYXRpb24uaW8vXHJcbiAgICAgICAgdmFsaWRhdG9yID0gRm9ybVZhbGlkYXRpb24uZm9ybVZhbGlkYXRpb24oXHJcbiAgICAgICAgICAgIGZvcm0sXHJcbiAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgIGZpZWxkczoge1xyXG4gICAgICAgICAgICAgICAgICAgICdwcm9kdWN0X25hbWUnOiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhbGlkYXRvcnM6IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5vdEVtcHR5OiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbWVzc2FnZTogJ1Byb2R1Y3QgbmFtZSBpcyByZXF1aXJlZCdcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICAgICAgJ3NrdSc6IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdmFsaWRhdG9yczoge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbm90RW1wdHk6IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBtZXNzYWdlOiAnU0tVIGlzIHJlcXVpcmVkJ1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgICAgICAnc2t1Jzoge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB2YWxpZGF0b3JzOiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBub3RFbXB0eToge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1lc3NhZ2U6ICdQcm9kdWN0IGJhcmNvZGUgaXMgcmVxdWlyZWQnXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgICAgICdzaGVsZic6IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdmFsaWRhdG9yczoge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbm90RW1wdHk6IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBtZXNzYWdlOiAnU2hlbGYgcXVhbnRpdHkgaXMgcmVxdWlyZWQnXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgICAgICdwcmljZSc6IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdmFsaWRhdG9yczoge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbm90RW1wdHk6IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBtZXNzYWdlOiAnUHJvZHVjdCBiYXNlIHByaWNlIGlzIHJlcXVpcmVkJ1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgICAgICAndGF4Jzoge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB2YWxpZGF0b3JzOiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBub3RFbXB0eToge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1lc3NhZ2U6ICdQcm9kdWN0IHRheCBjbGFzcyBpcyByZXF1aXJlZCdcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICBwbHVnaW5zOiB7XHJcbiAgICAgICAgICAgICAgICAgICAgdHJpZ2dlcjogbmV3IEZvcm1WYWxpZGF0aW9uLnBsdWdpbnMuVHJpZ2dlcigpLFxyXG4gICAgICAgICAgICAgICAgICAgIGJvb3RzdHJhcDogbmV3IEZvcm1WYWxpZGF0aW9uLnBsdWdpbnMuQm9vdHN0cmFwNSh7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJvd1NlbGVjdG9yOiAnLmZ2LXJvdycsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGVsZUludmFsaWRDbGFzczogJycsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGVsZVZhbGlkQ2xhc3M6ICcnXHJcbiAgICAgICAgICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICk7XHJcblxyXG4gICAgICAgIC8vIEhhbmRsZSBzdWJtaXQgYnV0dG9uXHJcbiAgICAgICAgc3VibWl0QnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgZSA9PiB7XHJcbiAgICAgICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcclxuXHJcbiAgICAgICAgICAgIC8vIFZhbGlkYXRlIGZvcm0gYmVmb3JlIHN1Ym1pdFxyXG4gICAgICAgICAgICBpZiAodmFsaWRhdG9yKSB7XHJcbiAgICAgICAgICAgICAgICB2YWxpZGF0b3IudmFsaWRhdGUoKS50aGVuKGZ1bmN0aW9uIChzdGF0dXMpIHtcclxuICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygndmFsaWRhdGVkIScpO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICBpZiAoc3RhdHVzID09ICdWYWxpZCcpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgc3VibWl0QnV0dG9uLnNldEF0dHJpYnV0ZSgnZGF0YS1rdC1pbmRpY2F0b3InLCAnb24nKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIERpc2FibGUgc3VibWl0IGJ1dHRvbiB3aGlsc3QgbG9hZGluZ1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBzdWJtaXRCdXR0b24uZGlzYWJsZWQgPSB0cnVlO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgc2V0VGltZW91dChmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdWJtaXRCdXR0b24ucmVtb3ZlQXR0cmlidXRlKCdkYXRhLWt0LWluZGljYXRvcicpO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIFN3YWwuZmlyZSh7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGV4dDogXCJGb3JtIGhhcyBiZWVuIHN1Y2Nlc3NmdWxseSBzdWJtaXR0ZWQhXCIsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWNvbjogXCJzdWNjZXNzXCIsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYnV0dG9uc1N0eWxpbmc6IGZhbHNlLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbmZpcm1CdXR0b25UZXh0OiBcIk9rLCBnb3QgaXQhXCIsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY3VzdG9tQ2xhc3M6IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uZmlybUJ1dHRvbjogXCJidG4gYnRuLXByaW1hcnlcIlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pLnRoZW4oZnVuY3Rpb24gKHJlc3VsdCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChyZXN1bHQuaXNDb25maXJtZWQpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gRW5hYmxlIHN1Ym1pdCBidXR0b24gYWZ0ZXIgbG9hZGluZ1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdWJtaXRCdXR0b24uZGlzYWJsZWQgPSBmYWxzZTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIFJlZGlyZWN0IHRvIGN1c3RvbWVycyBsaXN0IHBhZ2VcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgd2luZG93LmxvY2F0aW9uID0gZm9ybS5nZXRBdHRyaWJ1dGUoXCJkYXRhLWt0LXJlZGlyZWN0XCIpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9LCAyMDAwKTtcclxuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBTd2FsLmZpcmUoe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaHRtbDogXCJTb3JyeSwgbG9va3MgbGlrZSB0aGVyZSBhcmUgc29tZSBlcnJvcnMgZGV0ZWN0ZWQsIHBsZWFzZSB0cnkgYWdhaW4uIDxici8+PGJyLz5QbGVhc2Ugbm90ZSB0aGF0IHRoZXJlIG1heSBiZSBlcnJvcnMgaW4gdGhlIDxzdHJvbmc+R2VuZXJhbDwvc3Ryb25nPiBvciA8c3Ryb25nPkFkdmFuY2VkPC9zdHJvbmc+IHRhYnNcIixcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGljb246IFwiZXJyb3JcIixcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJ1dHRvbnNTdHlsaW5nOiBmYWxzZSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbmZpcm1CdXR0b25UZXh0OiBcIk9rLCBnb3QgaXQhXCIsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjdXN0b21DbGFzczoge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbmZpcm1CdXR0b246IFwiYnRuIGJ0bi1wcmltYXJ5XCJcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KVxyXG4gICAgfVxyXG5cclxuICAgIC8vIFB1YmxpYyBtZXRob2RzXHJcbiAgICByZXR1cm4ge1xyXG4gICAgICAgIGluaXQ6IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgLy8gSW5pdCBmb3Jtc1xyXG4gICAgICAgICAgICBpbml0UXVpbGwoKTtcclxuICAgICAgICAgICAgaW5pdFRhZ2lmeSgpO1xyXG4gICAgICAgICAgICBpbml0U2xpZGVyKCk7XHJcbiAgICAgICAgICAgIGluaXRGb3JtUmVwZWF0ZXIoKTtcclxuICAgICAgICAgICAgaW5pdERyb3B6b25lKCk7XHJcbiAgICAgICAgICAgIGluaXRDb25kaXRpb25zU2VsZWN0MigpO1xyXG5cclxuICAgICAgICAgICAgLy8gSGFuZGxlIGZvcm1zXHJcbiAgICAgICAgICAgIGhhbmRsZVN0YXR1cygpO1xyXG4gICAgICAgICAgICBoYW5kbGVDb25kaXRpb25zKCk7XHJcbiAgICAgICAgICAgIGhhbmRsZURpc2NvdW50KCk7XHJcbiAgICAgICAgICAgIGhhbmRsZVNoaXBwaW5nKCk7XHJcbiAgICAgICAgICAgIGhhbmRsZVN1Ym1pdCgpO1xyXG4gICAgICAgIH1cclxuICAgIH07XHJcbn0oKTtcclxuXHJcbi8vIE9uIGRvY3VtZW50IHJlYWR5XHJcbktUVXRpbC5vbkRPTUNvbnRlbnRMb2FkZWQoZnVuY3Rpb24gKCkge1xyXG4gICAgS1RBcHBFY29tbWVyY2VTYXZlUHJvZHVjdC5pbml0KCk7XHJcbn0pO1xyXG4iXSwibmFtZXMiOlsiX3R5cGVvZiIsIm9iaiIsIlN5bWJvbCIsIml0ZXJhdG9yIiwiY29uc3RydWN0b3IiLCJwcm90b3R5cGUiLCJfZGVmaW5lUHJvcGVydHkiLCJrZXkiLCJ2YWx1ZSIsIl90b1Byb3BlcnR5S2V5IiwiT2JqZWN0IiwiZGVmaW5lUHJvcGVydHkiLCJlbnVtZXJhYmxlIiwiY29uZmlndXJhYmxlIiwid3JpdGFibGUiLCJhcmciLCJfdG9QcmltaXRpdmUiLCJTdHJpbmciLCJpbnB1dCIsImhpbnQiLCJwcmltIiwidG9QcmltaXRpdmUiLCJ1bmRlZmluZWQiLCJyZXMiLCJjYWxsIiwiVHlwZUVycm9yIiwiTnVtYmVyIiwiS1RBcHBFY29tbWVyY2VTYXZlUHJvZHVjdCIsImluaXRRdWlsbCIsImVsZW1lbnRzIiwiZm9yRWFjaCIsImVsZW1lbnQiLCJxdWlsbCIsImRvY3VtZW50IiwicXVlcnlTZWxlY3RvciIsIlF1aWxsIiwibW9kdWxlcyIsInRvb2xiYXIiLCJoZWFkZXIiLCJwbGFjZWhvbGRlciIsInRoZW1lIiwiaW5pdFRhZ2lmeSIsInRhZ2lmeSIsIlRhZ2lmeSIsIndoaXRlbGlzdCIsImRyb3Bkb3duIiwibWF4SXRlbXMiLCJjbGFzc25hbWUiLCJlbmFibGVkIiwiY2xvc2VPblNlbGVjdCIsImluaXRGb3JtUmVwZWF0ZXIiLCIkIiwicmVwZWF0ZXIiLCJpbml0RW1wdHkiLCJkZWZhdWx0VmFsdWVzIiwic2hvdyIsInNsaWRlRG93biIsImluaXRDb25kaXRpb25zU2VsZWN0MiIsImhpZGUiLCJkZWxldGVFbGVtZW50Iiwic2xpZGVVcCIsImFsbENvbmRpdGlvblR5cGVzIiwicXVlcnlTZWxlY3RvckFsbCIsInR5cGUiLCJoYXNDbGFzcyIsInNlbGVjdDIiLCJtaW5pbXVtUmVzdWx0c0ZvclNlYXJjaCIsImluaXRTbGlkZXIiLCJzbGlkZXIiLCJub1VpU2xpZGVyIiwiY3JlYXRlIiwic3RhcnQiLCJjb25uZWN0IiwicmFuZ2UiLCJvbiIsInZhbHVlcyIsImhhbmRsZSIsImlubmVySFRNTCIsIk1hdGgiLCJyb3VuZCIsImluaXREcm9wem9uZSIsIm15RHJvcHpvbmUiLCJEcm9wem9uZSIsInVybCIsInBhcmFtTmFtZSIsIm1heEZpbGVzIiwibWF4RmlsZXNpemUiLCJhZGRSZW1vdmVMaW5rcyIsImFjY2VwdCIsImZpbGUiLCJkb25lIiwibmFtZSIsImhhbmRsZURpc2NvdW50IiwiZGlzY291bnRPcHRpb25zIiwicGVyY2VudGFnZUVsIiwiZ2V0RWxlbWVudEJ5SWQiLCJmaXhlZEVsIiwib3B0aW9uIiwiYWRkRXZlbnRMaXN0ZW5lciIsImUiLCJ0YXJnZXQiLCJjbGFzc0xpc3QiLCJyZW1vdmUiLCJhZGQiLCJoYW5kbGVTaGlwcGluZyIsInNoaXBwaW5nT3B0aW9uIiwic2hpcHBpbmdGb3JtIiwiY2hlY2tlZCIsImhhbmRsZVN0YXR1cyIsInNlbGVjdCIsInN0YXR1c0NsYXNzZXMiLCJfdGFyZ2V0JGNsYXNzTGlzdCIsImFwcGx5IiwiaGlkZURhdGVwaWNrZXIiLCJfdGFyZ2V0JGNsYXNzTGlzdDIiLCJzaG93RGF0ZXBpY2tlciIsIl90YXJnZXQkY2xhc3NMaXN0MyIsIl90YXJnZXQkY2xhc3NMaXN0NCIsImRhdGVwaWNrZXIiLCJmbGF0cGlja3IiLCJlbmFibGVUaW1lIiwiZGF0ZUZvcm1hdCIsInBhcmVudE5vZGUiLCJoYW5kbGVDb25kaXRpb25zIiwiYWxsQ29uZGl0aW9ucyIsImNvbmRpdGlvbk1hdGNoIiwicmFkaW8iLCJoYW5kbGVTdWJtaXQiLCJfZmllbGRzIiwidmFsaWRhdG9yIiwiZm9ybSIsInN1Ym1pdEJ1dHRvbiIsIkZvcm1WYWxpZGF0aW9uIiwiZm9ybVZhbGlkYXRpb24iLCJmaWVsZHMiLCJ2YWxpZGF0b3JzIiwibm90RW1wdHkiLCJtZXNzYWdlIiwicGx1Z2lucyIsInRyaWdnZXIiLCJUcmlnZ2VyIiwiYm9vdHN0cmFwIiwiQm9vdHN0cmFwNSIsInJvd1NlbGVjdG9yIiwiZWxlSW52YWxpZENsYXNzIiwiZWxlVmFsaWRDbGFzcyIsInByZXZlbnREZWZhdWx0IiwidmFsaWRhdGUiLCJ0aGVuIiwic3RhdHVzIiwiY29uc29sZSIsImxvZyIsInNldEF0dHJpYnV0ZSIsImRpc2FibGVkIiwic2V0VGltZW91dCIsInJlbW92ZUF0dHJpYnV0ZSIsIlN3YWwiLCJmaXJlIiwidGV4dCIsImljb24iLCJidXR0b25zU3R5bGluZyIsImNvbmZpcm1CdXR0b25UZXh0IiwiY3VzdG9tQ2xhc3MiLCJjb25maXJtQnV0dG9uIiwicmVzdWx0IiwiaXNDb25maXJtZWQiLCJ3aW5kb3ciLCJsb2NhdGlvbiIsImdldEF0dHJpYnV0ZSIsImh0bWwiLCJpbml0IiwiS1RVdGlsIiwib25ET01Db250ZW50TG9hZGVkIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./resources/src/js/custom/apps/ecommerce/catalog/save-product.js\n");

/***/ })

/******/ 	});
/************************************************************************/
/******/ 	
/******/ 	// startup
/******/ 	// Load entry module and return exports
/******/ 	// This entry module can't be inlined because the eval-source-map devtool is used.
/******/ 	var __webpack_exports__ = {};
/******/ 	__webpack_modules__["./resources/src/js/custom/apps/ecommerce/catalog/save-product.js"]();
/******/ 	
/******/ })()
;